<!DOCTYPE html>
<html>
<head>
    <title>Print</title>

    <script type="text/javascript" src="/apps/2.1/sdk.js"></script>

    <script type="text/javascript">
        Rally.onReady(function () {
                Ext.define("App.Config",{config:{Pversion:"v5.2b",PappID:"AC Print Portfolio Items",Powner:"Richard Cook",PreleaseDate:"2017-03-09: 00:24 GMT",Pdescription:"Print Portfolio Items",PrepoAddress:"not shared",pEmailSupportMessage:"*** [AC Print Portfolio Items] Custom Application AC Support Request",pEmailSupportAddress:"richard.cook@barclaycard.co.uk",pEmailerMessage:"========== Please add your comments above this line ==========",PrallyColours_10:["#0096DB","#004A9D","#FF3C00","#FF8D00","#FFDC00","#6F7376","#FFF","#FF0069","#41006E","#00710C"],PbarclaysColours_5:["#145FAC","#437EA0","#00AEEF","#FFF","#FFA000"],pInfoHtml:"",pCardHtml:"",pStoreData:"",portfolioType:["PortfolioItem/BUStrategicObjectives","PortfolioItem/STPortfolioObjectives","PortfolioItem/PortfolioEpic","PortfolioItem/BusinessOutcome","PortfolioItem/Feature"]},constructor:function(config){this.initConfig(config)}});
                Ext.define("App.Loader",{_build:function(type){var output,colour_Array=Ext.create("App.Config").PrallyColours_10,colour_Norm=colour_Array[Math.floor(10*Math.random())],Colour_Dark=Ext.create("App.Tools")._shadeBlendConvert(colour_Norm,-30);switch(type){case"bar":var html='style= "background-image: repeating-linear-gradient(-45deg,'+colour_Norm+","+colour_Norm+" 11px,"+Colour_Dark+" 10px,"+Colour_Dark+' 20px")';output='<div class = "bar" '+html+"></div>";break;case"wave":output='<div class = "loader">Loading...</div>'}return output}});
                Ext.define("App.Cards",{theMarkup:null,_build:function(cardNum,totalCards,data){var myRelease,myQRWP,myOBN,myColour,myNode,myParentIDName,myEstimate,myName,myOwner,myId,f1,f2,f3,f4,f5,theMarkup;myOBN=data.raw.c_OrderBookNumberOBN?this._shortenString(data.raw.c_OrderBookNumberOBN,50):this._checkMissing(data.raw._type,"OBN"),myColour=data.raw.DisplayColor?data.raw.DisplayColor:"#000000",myNode=data.raw.Project?this._shortenString(data.raw.Project.Name,30):"No Node Assigned",myRelease=void 0!==data.raw.Release&&data.raw.Release?this._shortenString(data.raw.Release.Name,25):this._checkMissing(data.raw._type,"Release"),myQRWP=void 0!==data.raw.c_QRWP&&data.raw.c_QRWP?this._shortenString(data.raw.c_QRWP,26):this._checkMissing(data.raw._type,"QRWP"),myParentIDName=data.raw.Parent?this._shortenString("["+data.raw.Parent.FormattedID+"] "+data.raw.Parent.Name,75):this._checkMissing(data.raw._type,"Parent"),myEstimate=data.raw.PreliminaryEstimate?data.raw.PreliminaryEstimate.Name:data.raw.PlanEstimate?data.raw.PlanEstimate:data.raw.Estimate?data.raw.Estimate:"Not Sized",myName=data.raw._refObjectName?this._shortenString(data.raw._refObjectName,84):"No Name",myOwner=data.raw.Owner?this._shortenString(data.raw.Owner._refObjectName,50):"No Owner",myId=data.raw.FormattedID;var font="font-family           : verdana,    Geneva, sans-serif;",css_Font______PUID=font+"font-size      : 18px;",css_Font_Px_Copy_L=font+"font-size      : 12px;",css_Font_Px_Copy_M=font+"font-size      : 11px;",css_Padding_5="padding               : 5px;",css_Bold="font-weight           : bold;",css_NORM="font-weight           : normal;",css_Text_Align_L="text-align            : left;",css_Div_Height_PUID="height                : 33px;",css_Div_Height_Name="height                : 55px;",css_Div_Height_Prnt="height                : 55px;",css_Div_Height_Node="height                : 55px;",css_Div_Height_Rele="height                : 23px;",css_Div_Height_QRWP="height                : 23px;",css_Div_Height__OBN="height                : 23px;",css_Div_Height_Size="height                : 23px;",css_Div_Height_Owne="height                : 23px;",css_Div_Height_Colo="height                : 30px;",css_Border_Dashed_B="border-bottom         : 1px         dashed  grey;",css_Border_solid__B="border-bottom         : 1px         solid   black;",css_Border____Blank="border                : none;",css_Start='                style = "',css_End='"',colour_Background_Darken=Ext.create("App.Tools")._shadeBlendConvert(data.raw.DisplayColor,-60),colour_Background="background            : repeating-linear-gradient(  -45deg,  "+data.raw.DisplayColor+","+data.raw.DisplayColor+" 10px,  "+colour_Background_Darken+" 10px,  "+colour_Background_Darken+" 20px)",css_Cut_Outs=css_Start+"border    : 1px dashed #00AEEF; padding: 10px;position     : relative;float: left;page-break-inside: avoid"+css_End,css_Card_Con=css_Start+"border    : 1px solid #000;width       : 250px; white-space: normal;color  : black;background-color: #fff;"+css_End,css_Row_PUID=css_Div_Height_PUID+css_Border_solid__B+css_Text_Align_L+css_Font______PUID+css_Bold+css_Padding_5,css_Row_Name=css_Div_Height_Name+css_Border_Dashed_B+css_Text_Align_L+css_Font_Px_Copy_L+css_NORM+css_Padding_5,css_Row_Prnt=css_Div_Height_Prnt+css_Border_Dashed_B+css_Text_Align_L+css_Font_Px_Copy_M+css_NORM+css_Padding_5,css_Row_Node=css_Div_Height_Node+css_Border_Dashed_B+css_Text_Align_L+css_Font_Px_Copy_M+css_NORM+css_Padding_5,css_Row_Rele=css_Div_Height_Rele+css_Border_Dashed_B+css_Text_Align_L+css_Font_Px_Copy_M+css_NORM+css_Padding_5,css_Row_QRWP=css_Div_Height_QRWP+css_Border_Dashed_B+css_Text_Align_L+css_Font_Px_Copy_M+css_NORM+css_Padding_5,css_Row__OBN=css_Div_Height__OBN+css_Border_Dashed_B+css_Text_Align_L+css_Font_Px_Copy_M+css_NORM+css_Padding_5,css_Row_Size=css_Div_Height_Size+css_Border_Dashed_B+css_Text_Align_L+css_Font_Px_Copy_M+css_NORM+css_Padding_5,css_Row_Owne=css_Div_Height_Owne+css_Border_solid__B+css_Text_Align_L+css_Font_Px_Copy_M+css_NORM+css_Padding_5,css_Row_Colo=css_Div_Height_Colo+css_Border____Blank+colour_Background,cssClearBoth=css_Start+"clear:both"+css_End;f1=MySharedData.portfolioType[0],f2=MySharedData.portfolioType[1],f3=MySharedData.portfolioType[2],f4=MySharedData.portfolioType[3],f5=MySharedData.portfolioType[4];var portfolioType=data.raw._type;return portfolioType===f1&&(theMarkup='<div class="css_Cut_Outs" '+css_Cut_Outs+'><div class="css_Card_Con" '+css_Card_Con+">"+this._add_Div_Detail("css_Row_PUID","css_Row_PUID",css_Row_PUID,"#145FAC","UID",myId)+this._add_Div_Detail("css_Row_Name","css_Row_Name",css_Row_Name,"#145FAC","Name",myName)+this._add_Div_Detail("css_Row_Prnt","css_Row_Prnt",css_Row_Prnt,"#145FAC","Parent",myParentIDName)+this._add_Div_Detail("css_Row_Node","css_Row_Node",css_Row_Node,"#145FAC","Node",myNode)+this._add_Div_Detail("css_Row_Size","css_Row_Size",css_Row_Size,"#145FAC","Size",myEstimate)+this._add_Div_Detail("css_Row_Owne","css_Row_Owne",css_Row_Owne,"#145FAC","Owner",myOwner)+this._add_Div_Detail("css_Row_Colo","css_Row_Colo",css_Row_Colo,"","")+"</div></div>"),portfolioType===f2&&(theMarkup='<div class="css_Cut_Outs" '+css_Cut_Outs+'><div class="css_Card_Con" '+css_Card_Con+">"+this._add_Div_Detail("css_Row_PUID","css_Row_PUID",css_Row_PUID,"#145FAC","UID",myId)+this._add_Div_Detail("css_Row_Name","css_Row_Name",css_Row_Name,"#145FAC","Name",myName)+this._add_Div_Detail("css_Row_Prnt","css_Row_Prnt",css_Row_Prnt,"#145FAC","Parent",myParentIDName)+this._add_Div_Detail("css_Row_Node","css_Row_Node",css_Row_Node,"#145FAC","Node",myNode)+this._add_Div_Detail("css_Row_Size","css_Row_Size",css_Row_Size,"#145FAC","Size",myEstimate)+this._add_Div_Detail("css_Row_Owne","css_Row_Owne",css_Row_Owne,"#145FAC","Owner",myOwner)+this._add_Div_Detail("css_Row_Colo","css_Row_Colo",css_Row_Colo,"","")+"</div></div>"),portfolioType===f3&&(theMarkup='<div class="css_Cut_Outs" '+css_Cut_Outs+'><div class="css_Card_Con" '+css_Card_Con+">"+this._add_Div_Detail("css_Row_PUID","css_Row_PUID",css_Row_PUID,"#145FAC","UID",myId)+this._add_Div_Detail("css_Row_Name","css_Row_Name",css_Row_Name,"#145FAC","Name",myName)+this._add_Div_Detail("css_Row_Prnt","css_Row_Prnt",css_Row_Prnt,"#145FAC","Parent",myParentIDName)+this._add_Div_Detail("css_Row_Node","css_Row_Node",css_Row_Node,"#145FAC","Node",myNode)+this._add_Div_Detail("css_Row_QRWP","css_Row_QRWP",css_Row_QRWP,"#145FAC","QRWP",myQRWP)+this._add_Div_Detail("css_Row__OBN","css_Row__OBN",css_Row__OBN,"#145FAC","OBN",myOBN)+this._add_Div_Detail("css_Row_Size","css_Row_Size",css_Row_Size,"#145FAC","Size",myEstimate)+this._add_Div_Detail("css_Row_Owne","css_Row_Owne",css_Row_Owne,"#145FAC","Owner",myOwner)+this._add_Div_Detail("css_Row_Colo","css_Row_Colo",css_Row_Colo,"","")+"</div></div>"),portfolioType===f4&&(theMarkup='<div class="css_Cut_Outs" '+css_Cut_Outs+'><div class="css_Card_Con" '+css_Card_Con+">"+this._add_Div_Detail("css_Row_PUID","css_Row_PUID",css_Row_PUID,"#145FAC","UID",myId)+this._add_Div_Detail("css_Row_Name","css_Row_Name",css_Row_Name,"#145FAC","Name",myName)+this._add_Div_Detail("css_Row_Prnt","css_Row_Prnt",css_Row_Prnt,"#145FAC","Parent",myParentIDName)+this._add_Div_Detail("css_Row_Node","css_Row_Node",css_Row_Node,"#145FAC","Node",myNode)+this._add_Div_Detail("css_Row_Rele","css_Row_Rele",css_Row_Rele,"#145FAC","Release",myRelease)+this._add_Div_Detail("css_Row_QRWP","css_Row_QRWP",css_Row_QRWP,"#145FAC","QRWP",myQRWP)+this._add_Div_Detail("css_Row_Size","css_Row_Size",css_Row_Size,"#145FAC","Size",myEstimate)+this._add_Div_Detail("css_Row_Owne","css_Row_Owne",css_Row_Owne,"#145FAC","Owner",myOwner)+this._add_Div_Detail("css_Row_Colo","css_Row_Colo",css_Row_Colo,"","")+"</div></div>"),portfolioType===f5&&(theMarkup='<div class="css_Cut_Outs" '+css_Cut_Outs+'><div class="css_Card_Con" '+css_Card_Con+">"+this._add_Div_Detail("css_Row_PUID","css_Row_PUID",css_Row_PUID,"#145FAC","UID",myId)+this._add_Div_Detail("css_Row_Name","css_Row_Name",css_Row_Name,"#145FAC","Name",myName)+this._add_Div_Detail("css_Row_Prnt","css_Row_Prnt",css_Row_Prnt,"#145FAC","Parent",myParentIDName)+this._add_Div_Detail("css_Row_Node","css_Row_Node",css_Row_Node,"#145FAC","Node",myNode)+this._add_Div_Detail("css_Row_Rele","css_Row_Rele",css_Row_Rele,"#145FAC","Release",myRelease)+this._add_Div_Detail("css_Row_Size","css_Row_Size",css_Row_Size,"#145FAC","Size",myEstimate)+this._add_Div_Detail("css_Row_Owne","css_Row_Owne",css_Row_Owne,"#145FAC","Owner",myOwner)+this._add_Div_Detail("css_Row_Colo","css_Row_Colo",css_Row_Colo,"","")+"</div></div>"),0===Math.ceil((cardNum+1)%4)?theMarkup+="<div class=pb></div>":cardNum===totalCards-1&&(theMarkup=theMarkup+"<div class=cb "+cssClearBoth+">&nbsp;</div>"),theMarkup},_add_Div_Detail:function(div_Class,div_Id,div_Style,heading_Colour,div_Heading,div_Content){var content,output;return content=""===div_Heading||""===div_Content?"&nbsp;":'<span style="color:'+heading_Colour+'">'+div_Heading+":</span> "+div_Content,output='<div class="'+div_Class+'" id="'+div_Id+'" style="'+div_Style+'">'+content+"</div>"},_print:function(data){var title,options,printWindow,doc;return title="Print Cards",options="toolbar=0,menubar=0,scrollbars=yes,scrolling=yes,resizable=yes,width=1000,height=500",printWindow=window.open("",title,options),doc=printWindow.document,doc.write("<html><head><title>Print Feature</title>"),doc.write('</head><body class="landscape" style="-webkit-print-color-adjust: exact;">'),doc.write(data),doc.write("</body></html>"),doc.close(),printWindow.print(),!1},_shortenString:function(string,stringLength){var output;return output=string.length>stringLength?string.substring(stringLength,length)+" ...":string},_checkMissing:function(portfolioType,item){var output,f1,f2,f3,f4,f5;return f1=MySharedData.portfolioType[0],f2=MySharedData.portfolioType[1],f3=MySharedData.portfolioType[2],f4=MySharedData.portfolioType[3],f5=MySharedData.portfolioType[4],portfolioType===f1&&("OBN"===item&&(output="Portfolio Epic Only"),"Release"===item&&(output="Not Required"),"QRWP"===item&&(output="Not Required"),"Parent"===item&&(output="Top Level")),portfolioType===f2&&("OBN"===item&&(output="Portfolio Epic Only"),"Release"===item&&(output="Not Required"),"QRWP"===item&&(output="Not Required"),"Parent"===item&&(output="Missing")),portfolioType===f3&&("OBN"===item&&(output="Missing"),"Release"===item&&(output="Not Required"),"QRWP"===item&&(output="Not Required"),"Parent"===item&&(output="Missing")),portfolioType===f4&&("OBN"===item&&(output="Portfolio Epic Only"),"Release"===item&&(output="Not Assigned"),"QRWP"===item&&(output="Missing"),"Parent"===item&&(output="Missing")),portfolioType===f5&&("OBN"===item&&(output="Portfolio Epic Only"),"Release"===item&&(output="Not Assigned"),"QRWP"===item&&(output="Not Required"),"Parent"===item&&(output="Missing")),output}});
                Ext.define("App.Info",{_build:function(style,startString,data,endString){var output;return"header"===style&&(output='<p style="font-size:25px;font-weight:bolder;margin:0;padding:0"><span style="color:#00AEEF;">'+startString+' </span><span style="color:black;">'+data+" "+endString+"</span></p>"),"paragraph"===style&&(output="<p>"+startString+" "+data+" "+endString+"</p>"),output}});
                Ext.define("App.Tools",{_shadeBlendConvert:function(color,percent){var R=parseInt(color.substring(1,3),16),G=parseInt(color.substring(3,5),16),B=parseInt(color.substring(5,7),16);R=parseInt(R*(100+percent)/100),G=parseInt(G*(100+percent)/100),B=parseInt(B*(100+percent)/100),R=R<255?R:255,G=G<255?G:255,B=B<255?B:255;var RR=1===R.toString(16).length?"0"+R.toString(16):R.toString(16),GG=1===G.toString(16).length?"0"+G.toString(16):G.toString(16),BB=1===B.toString(16).length?"0"+B.toString(16):B.toString(16);return"#"+RR+GG+BB},_common_Array_Outputter:function(array){for(var character_Return="\r\n",l=array.length,output="",padSize=String(l).length,x=0;x<l;x++)output+="[#"+this._number_Pad(x,padSize)+"] "+array[x]+character_Return;return console.log(output),array=void 0,output},_number_Pad:function(num,size){return Array(Math.max(size-String(num).length+1,0)).join(0)+num}});
                Ext.define("App.System",{_this_Application_Details:function(){var a=[];return a.push("> - - - - - - - - - - < Application Details"),a.push("> App Name > Print"),a.push("> App Version > v5.0b"),a.push("> App Version Status > beta"),a.push("> App Designer > Richard Cook"),a.push("> App Description > Custom Ext JS Application that Prints Portfolio Items"),a.push("> App Release Date > 2017-03-08"),Ext.create("App.Tools")._common_Array_Outputter(a)},_this_Application_Output:function(array){var a=[];a.push("> - - - - - - - - - - < Application Output");for(var i=0;i<array.length;i++)a.push("> "+array[i].raw.FormattedID+array[i].raw.Name+array[i].raw._ref);return array=void 0,Ext.create("App.Tools")._common_Array_Outputter(a)},_user_Vars:function(){var a=[];return a.push("> - - - - - - - - - - < Local Details"),a.push("> Browser Web App Name > "+navigator.appName),a.push("> Browser User Agent > "+navigator.userAgent),a.push("> Browser Version > "+navigator.appVersion),a.push("> Browser Code Name > "+navigator.appCodeName),a.push("> Platform > "+navigator.platform),a.push("> OS CPU > "+navigator.oscpu),a.push("> Cookies > "+navigator.cookieEnabled),a.push("> Outer Width > "+window.outerWidth),a.push("> Outer Height > "+window.outerHeight),a.push("> Inner Width > "+window.innerWidth),a.push("> Inner Height > "+window.innerHeight),a.push("> Base URI > "+document.getElementsByTagName("script")[0].baseURI),a.push("> SRC > "+document.getElementsByTagName("script")[0].src),a.push("> LocalName > "+document.getElementsByTagName("script")[0].localName),a.push("> Type > "+document.getElementsByTagName("script")[0].type),Ext.create("App.Tools")._common_Array_Outputter(a)},_user_Rally_Vars:function(context_User,context_Project,context_Workspace){var a=[];return a.push("> - - - - - - - - - - < User Details"),a.push("> AC User Username > "+context_User.UserName),a.push("> AC User Name > "+context_User._refObjectName),a.push("> AC User Role > "+context_User.Role),a.push("> AC Application Launched From Node > "+context_Project._refObjectName),a.push("> AC Application Workspace Name > "+context_Workspace._refObjectName),a.push("> AC Application Workspace Date/Time Format > "+context_Workspace.WorkspaceConfiguration.DateFormat),Ext.create("App.Tools")._common_Array_Outputter(a)}});
                Ext.define("App.Emailer",{_emailer:function(application_Output_Array,context_User,context_Project,context_Workspace){var string,subject;subject=Ext.create("App.Config").pEmailSupportMessage,string="\r\n",string+="\r\n",string+="\r\n",string+=Ext.create("App.Config").pEmailerMessage,string+="\r\n",string+=Ext.create("App.System")._this_Application_Details(),string+=Ext.create("App.System")._user_Vars(),string+=Ext.create("App.System")._user_Rally_Vars(context_User,context_Project,context_Workspace),string+=Ext.create("App.System")._this_Application_Output(application_Output_Array),console.log(string),string=encodeURIComponent(string),window.location="mailto:"+Ext.create("App.Config").pEmailSupportAddress+"?subject="+subject+"&body="+string}});
                Ext.define("MySharedData",{singleton:!0,printHtml:"",supportArray:[],infoString:"",portfolioType:["PortfolioItem/BUStrategicObjectives","PortfolioItem/STPortfolioObjectives","PortfolioItem/PortfolioEpic","PortfolioItem/BusinessOutcome","PortfolioItem/Feature"]}),Ext.define("PrintApp",{extend:"Rally.app.App",theStore:void 0,printHtml:null,theFetch:["FormattedID","Name","Project","Owner","Size","DisplayColor","State","PreliminaryEstimate","Parent","Release","c_QRWP","_type","PortfolioItemType","_refObjectName","c_OrderBookNumberOBN"],launch:function(){console.log("[2J");var me=this,a_context_User=this.getContext().getUser(),a_context_Project=this.getContext().getProject(),a_context_Workspace=this.getContext().getWorkspace(),layout=Ext.create("Ext.container.Container",{layout:"fit",align:"stretch",height:"100%",layoutConfig:{align:"stretch"},items:[{xtype:"panel",border:!1,layout:"hbox",html:"",id:"myHeader",itemId:"header",width:"100%",items:[{xtype:"panel",layout:"hbox",id:"panel_Filter_Multi",itemId:"panel_Filter_Multi",margin:"10 5 5 0",bodyPadding:10,cls:"mainPageGroupPanel",items:[{xtype:"rallyusersearchcombobox",storeConfig:{model:"PortfolioItem"},fieldLabel:"Team Member:",project:this.getContext().getProject(),itemId:"user-combobox",id:"user-combobox",margin:"0 5 0 0",noEntryText:"-- All --",defaultSelectionPosition:"first",listeners:{select:function(){this._mask("myInfoPanel"),me._kickoff("User")},scope:me}},{xtype:"rallyportfolioitemtypecombobox",itemId:"portfolio-combobox",fieldLabel:"Select",labelAlign:"left",id:"portfolio-combobox",margin:"0 5 0 0",listeners:{select:function(){this._mask("myInfoPanel"),me._kickoff("User")},scope:me}}]},{xtype:"panel",layout:"hbox",id:"panel_Filter_Single",itemId:"panel_Filter_Single",margin:"10 5 5 10",bodyPadding:10,items:[{xtype:"rallysearchcombobox",storeConfig:{model:"PortfolioItem"},itemId:"search-combobox",fieldLabel:"Search",labelAlign:"left",width:350,id:"search-combobox",margin:"0 5 0 0",listeners:{specialkey:function(field,e){e.getKey()===e.ENTER&&(this._mask("myInfoPanel"),me._kickoff("Search"))},select:function(){this._mask("myInfoPanel"),me._kickoff("Search")},scope:me}}]},{xtype:"panel",layout:"hbox",id:"panel_Filter_Actions",itemId:"panel_Filter_Actions",margin:"10 5 5 10",bodyPadding:10,items:[{xtype:"button",text:"Print Results",margin:"0 5 0 5",handler:this._getPrint,style:{background:"#00AEEF"}},{xtype:"component"},{xtype:"button",text:"Support",margin:"0 5 0 5",style:{background:"red"},listeners:{afterrender:function(v){v.el.on("click",function(){Ext.create("App.Emailer")._emailer(MySharedData.supportArray,a_context_User,a_context_Project,a_context_Workspace)})},scope:me}}]}]},{xtype:"container",layout:"fit",align:"stretch",height:"100%",layoutConfig:{align:"stretch"},items:[{xtype:"box",id:"myInfoPanel",autoScroll:!0,margin:"10 5 5 10",height:40,width:"100%",autoEl:{tag:"div",cls:"myInfoPanel",html:""},listeners:{afterrender:function(){},scope:me},flex:1},{xtype:"box",id:"myTarget",autoScroll:!0,margin:"10 5 5 10",width:"100%",style:{borderTop:"1"},autoEl:{tag:"div",cls:"myContent",html:""},listeners:{afterrender:function(){},scope:me},flex:1}]}]});this.add(layout)},_kickoff:function(type){this._loadData(type)},_getFilters:function(t){var theFilter,p,pp,folioFilter,userFilter;return"Search"===t&&(p=Ext.getCmp("search-combobox").getRecord().get("Name"),theFilter=Ext.create("Rally.data.wsapi.Filter",{property:"Name",operation:"=",value:p})),"User"===t&&(null===this.down("rallyusersearchcombobox").getValue()?(p=this.down("rallyportfolioitemtypecombobox"),folioFilter=Ext.create("Rally.data.wsapi.Filter",{property:"PortfolioItemType",operation:"=",value:p.getValue()}),theFilter=folioFilter):(p=this.down("rallyportfolioitemtypecombobox"),folioFilter=Ext.create("Rally.data.wsapi.Filter",{property:"PortfolioItemType",operation:"=",value:p.getValue()}),pp=this.down("rallyusersearchcombobox"),userFilter=Ext.create("Rally.data.wsapi.Filter",{property:"owner",value:pp.getValue()}),theFilter=folioFilter.and(userFilter))),p=void 0,pp=void 0,theFilter},_loadData:function(type){var me=this,myFilter=this._getFilters(type);me.theStore?(me.theStore.setFilter(myFilter),me.theStore.load()):me.theStore=Ext.create("Rally.data.wsapi.Store",{model:"PortfolioItem",autoLoad:!0,filters:myFilter,limit:1/0,type:"PortfolioItem",listeners:{load:function(myStore,myData){me._createResults(myData)},scope:me},fetch:this.theFetch})},_createResults:function(myData){var itemType;MySharedData.supportArray=myData;for(var html='<div id="cards">',x=0;x<myData.length;x++)html+=Ext.create("App.Cards")._build(x,myData.length,myData[x]),itemType=myData[x].raw._type;html+="</div>",Ext.fly("myTarget").update(html),this._unmask(),MySharedData.infoString+=Ext.fly("myInfoPanel").update(Ext.create("App.Info")._build("header",'<style="color:blue;">Found</style> ',x," Portfolio items that match your search criteria")),MySharedData.printHtml=html},_getPrint:function(){var printHtml=null;return printHtml+=Ext.create("App.Cards")._print(MySharedData.printHtml)},_mask:function(){Ext.fly("myInfoPanel").update(Ext.create("App.Loader")._build("bar"))},_unmask:function(){this.sparkler&&(this.sparkler=null)}});

            Rally.launchApp('PrintApp', {
                name:"Print",
	            parentRepos:""
            });

        });
    </script>


    <style type="text/css">
        
    </style>
    <style type="text/css">
        @keyframes move{0%{background-position:0 0}100%{background-position:28px 0}}.bar{width:100%;height:20px;border:1px solid #6B7CA4;border-radius:10px;background-size:28px 28px;animation:move .5s linear infinite}.loader,.loader:before,.loader:after{background:#437EA0;-webkit-animation:load1 1s infinite ease-in-out;animation:load1 1s infinite ease-in-out;width:1em;height:4em}.loader{color:#437EA0;text-indent:-9999em;margin:88px auto;position:relative;font-size:11px;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-0.16s;animation-delay:-0.16s}.loader:before,.loader:after{position:absolute;top:0;content:''}.loader:before{left:-1.5em;-webkit-animation-delay:-0.32s;animation-delay:-0.32s}.loader:after{left:1.5em}@-webkit-keyframes load1{0%,80%,100%{box-shadow:0 0;height:4em}40%{box-shadow:0 -2em;height:5em}}@keyframes load1{0%,80%,100%{box-shadow:0 0;height:4em}40%{box-shadow:0 -2em;height:5em}}
    </style>
</head>
<body>
</body>
</html>
